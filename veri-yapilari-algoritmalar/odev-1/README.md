Ödev
======

Bir kütüphanede çalışıyorsunuz. Bu kütüphaneye öğlen saatinde 1280 yeni farklı kitap geliyor. Kitaplar, uzun düz bir sıra halinde indirilioyr ancak sıraları bozuk halde. Üstelik otomatik sıralama sistemi de arızalı. Daha önemlisi yarın okullar açılıyor yani öğrenciler bu kitaplar için sıraya girmeye başlayacak. Hepsini vaktinde nasıl sıralayabilirsiniz?

Cevap:
======

İlk olarak probleme sıranın bir ucundan ilk iki kitapla başlayın. Eğer ilk iki kitap sıralı ise oldukları gibi bırakın, değilse değiştirin. Sonra ikinci ve üçüncü kitaplara bakın. İşlemi sıranın sonu gelene kadar tekrar edin. Bir noktada, en sonda olması gereken kitaba denk geliceksiniz ve onu sonrasında doğru yere kitap gelene kadar aşağıya kaydırarak devam edin. Sonra en başa dönün ve işlemi sondan ikinci kitabın yerini bulana kadar tekrarlayın.  Ve bütün kitaplar sıralanana kadar devam edin. Bu yönteme "Kabarcık Sıralama" denir. Basit ama yavaştır. İlk Seferde 1279 karşılaştırma yapmış olursunuz, sonra 1278 olur ve toplamda 818.560 karşılaştırmaya ulaşır. Her karşılaştırma bir saniye alsa işlem dokuz günden fazla sürer. 

İkinci yol olarak sadece ilk iki kitabı sıralayarak başlamak olur. Sonra üçüncü kitabı alıp ikinci sıradaki kitapla karşılaştırın. İkinci kitaptan önce ise yerlerini değiştirin sonra onu ilk sıradaki kitapla karşılaştırın, gerekirse yerini değiştirin. Şimdilik ilk üç kitabı sıraladınız. Her seferinde sıralanan tarafa yeni litap eklemeye devam edin, yeni kitabı bir önceki kitapla karşılaştırıp değiştirerek o zamana kadar sıralananların srasına doğru şekilde yerleşene kadar devam edin. Birinci yolun aksine, her çifti karşılaştırmayı gerektirmez. Ortalama olarak her kitabı sadece kendinden önceki gelen kitapların yarısıyla karşılaştırmamız gerekir. Bu durumda toplam karşılaştırma sayısı 409.280 olup yaklaşık beş gün sürer. 

Hala çok fazla karşılaştırma yapıyorsunuz. İşte size daha iyi bir fikir: Önce rast gele bir kitap seçin. Buna "parça" deyin ve diğer bütün kitaplarla karşılaştırın. Sonra sırayı ikiye bölün, parçadan önce gelen bütün kitapları sol tarafa, sonra gelen parçaları sağ tarafa ayırınız. Soldaki bütün ktapları sağdaki kitaplarla tekrar tekrar karşılaştırma zorunda kalmayıp hayli zaman kazandınız. Şimdi de sadece soldaki kitaplara bakın, yine rast gele bir parça kitap seçin. Ve öncesinde kalan kitapları sonra gelenlerden ayırabilirsiniz. Küçük bir alt grup elde edene kadar devam edin. Her parçalama işlemi 1280 karşılaştırma gerektirir. Eğer parçalar eşit dağılmışsa kitapları on kitaplık 128 alt gruba bölmek yedi sefer ya da 8960 saniye gerektiri. Alt grupları tasnşf etmek her birine yaklaşık 22 saniye ekler. Bu yöntem ile kitapları üç buçuk saatin altında sıralayabilirsiniz. Ancak tek sorunu var, parçalar orantısız olursa hiç zaman kazanamazsınız. Neyseki bu nadiren olur. 
